(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[3],{100:function(e,t,n){e.exports={enter:"Fade_enter__yai4J",enterActive:"Fade_enterActive__2vZ9V",exit:"Fade_exit__GEbt7",exitActive:"Fade_exitActive__1UBbh"}},101:function(e,t,n){e.exports={label:"styles_label__avZyY",filtr:"styles_filtr__JlpvG",input:"styles_input__1KeJt"}},102:function(e,t,n){e.exports={enter:"FilterFade_enter__1KfhK",enterActive:"FilterFade_enterActive__YaD2e",exit:"FilterFade_exit__1214d",exitActive:"FilterFade_exitActive__1dAbf"}},103:function(e,t,n){e.exports={enter:"pop_enter__M799n",enterActive:"pop_enterActive__2m4SM",exit:"pop_exit__25AHT",exitActive:"pop_exitActive__1em5s"}},107:function(e,t,n){"use strict";n.r(t);var r=n(26),a=n(27),c=n(29),i=n(28),o=n(0),s=n.n(o),u=n(3),l=n(98),d=n.n(l),b=n(20),f=n.n(b),m=n(11),h=function(){return function(e){e(Object(m.i)()),f.a.get("/contacts").then((function(t){var n=t.data;return e(Object(m.j)(n))})).catch((function(t){return e(Object(m.h)(t.message))}))}},j=n(10),p=n(99),_=n.n(p),v=n(1);var x=function(){return Object(v.jsx)("div",{className:_.a.alert,children:Object(v.jsx)("h1",{className:_.a.error,children:" Contacts already exists! "})})},O=n(94),y=n(100),g=n.n(y),E=n(101),C=n.n(E),N=n(32),A=function(e){return e.contacts.loading},F=function(e){return e.contacts.items},S=function(e){return e.contacts.filter},k=Object(N.a)([F,S],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))})),w=Object(j.b)((function(e){return{value:S(e)}}),(function(e){return{onChange:function(t){return e(m.d(t.currentTarget.value))}}}))((function(e){var t=e.value,n=e.onChange;return Object(v.jsxs)("div",{className:C.a.filtr,children:[Object(v.jsx)("label",{className:C.a.label,children:"Find contacts by name"}),Object(v.jsx)("input",{className:C.a.input,type:"text",value:t,onChange:n})]})})),D=n(102),J=n.n(D),V=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={name:"",number:"",error:!1},e.hendleNameChange=function(t){var n=t.currentTarget,r=n.name,a=n.value;e.setState(Object(u.a)({},r,a))},e.hendleSubmit=function(t){if(t.preventDefault(),e.props.contacts.find((function(e){return e.name===t.target.elements[0].value})))return e.setState({error:!0}),setTimeout((function(){e.setState({error:!1})}),2500);e.props.onSubmit(e.state),e.reset()},e.reset=function(){e.setState({name:"",number:""})},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContact()}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:d.a.container,children:[Object(v.jsx)(O.a,{in:this.state.error,timeout:250,classNames:g.a,unmountOnExit:!0,children:Object(v.jsx)(x,{})}),Object(v.jsxs)("form",{onSubmit:this.hendleSubmit,children:[Object(v.jsxs)("label",{className:d.a.label,children:["Name",Object(v.jsx)("input",{className:d.a.input,name:"name",type:"text",value:this.state.name,onChange:this.hendleNameChange})]}),Object(v.jsxs)("label",{className:d.a.label,children:["Number",Object(v.jsx)("input",{className:d.a.input,name:"number",type:"tel",value:this.state.number,onChange:this.hendleNameChange})]}),Object(v.jsx)("button",{className:d.a.buttomForm,type:"submit",children:"Add contact"})]})]}),Object(v.jsx)(O.a,{in:this.props.contacts.length>1,timeout:250,classNames:J.a,unmountOnExit:!0,onExiting:function(){return e.props.clearFilter()},children:Object(v.jsx)(w,{})}),this.props.isLoading&&Object(v.jsx)("h1",{className:d.a.loading,children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c..."})]})}}]),n}(o.Component),L=Object(j.b)((function(e){return{contacts:F(e),isLoading:A(e)}}),(function(e){return{onSubmit:function(t,n){return e((r=t,function(e){var t={name:r.name,number:r.number};e(Object(m.b)()),f.a.post("/contacts",t).then((function(t){var n=t.data;return e(Object(m.c)(n))})).catch((function(t){return e(Object(m.a)(t.massage))}))}));var r},clearFilter:function(){return e(Object(m.d)(""))},fetchContact:function(){return e(h())}}}))(V),M=n(8),K=n(5);var R=n(9),T=(n(18),n(38));function U(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(o.isValidElement)(e)?t(e):e}(e)})),n}function P(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Y(e,t,n){var r=U(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,a=Object.create(null),c=[];for(var i in e)i in t?c.length&&(a[i]=c,c=[]):c.push(i);var o={};for(var s in t){if(a[s])for(r=0;r<a[s].length;r++){var u=a[s][r];o[a[s][r]]=n(u)}o[s]=n(s)}for(r=0;r<c.length;r++)o[c[r]]=n(c[r]);return o}(t,r);return Object.keys(a).forEach((function(c){var i=a[c];if(Object(o.isValidElement)(i)){var s=c in t,u=c in r,l=t[c],d=Object(o.isValidElement)(l)&&!l.props.in;!u||s&&!d?u||!s||d?u&&s&&Object(o.isValidElement)(l)&&(a[c]=Object(o.cloneElement)(i,{onExited:n.bind(null,i),in:l.props.in,exit:P(i,"exit",e),enter:P(i,"enter",e)})):a[c]=Object(o.cloneElement)(i,{in:!1}):a[c]=Object(o.cloneElement)(i,{onExited:n.bind(null,i),in:!0,exit:P(i,"exit",e),enter:P(i,"enter",e)})}})),a}var G=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Z=function(e){function t(t,n){var r,a=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},r}Object(R.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,a=t.children,c=t.handleExited;return{children:t.firstRender?(n=e,r=c,U(n.children,(function(e){return Object(o.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:P(e,"appear",n),enter:P(e,"enter",n),exit:P(e,"exit",n)})}))):Y(e,a,c),firstRender:!1}},n.handleExited=function(e,t){var n=U(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(K.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=Object(M.a)(e,["component","childFactory"]),a=this.state.contextValue,c=G(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?s.a.createElement(T.a.Provider,{value:a},c):s.a.createElement(T.a.Provider,{value:a},s.a.createElement(t,r,c))},t}(s.a.Component);Z.propTypes={},Z.defaultProps={component:"div",childFactory:function(e){return e}};var B=Z,W=n(96),H=n.n(W),I=function(e){var t=e.name,n=e.number,r=e.id,a=e.onDeleteContact;return Object(v.jsxs)("li",{className:H.a.item,children:[Object(v.jsx)("p",{className:H.a.name,children:t}),Object(v.jsx)("p",{className:H.a.number,children:n}),Object(v.jsx)("button",{className:H.a.buttonContact,type:"button",onClick:a})]},r)},X=n(103),q=n.n(X),z=Object(j.b)((function(e){return{contacts:k(e)}}),(function(e){return{deleteContact:function(t){return e((n=t,function(e){e(Object(m.f)()),f.a.delete("/contacts/".concat(n)).then((function(){return e(Object(m.g)(n))})).catch((function(t){return e(Object(m.e)(t.message))}))}));var n},fetchContacts:function(){return e(h())}}}))((function(e){var t=e.contacts,n=e.deleteContact;e.clearFilter;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{className:H.a.title,children:"Contacts"}),Object(v.jsx)(B,{component:"ul",className:H.a.contactList,children:t.map((function(e){var t=e.id,r=e.name,a=e.number;return Object(v.jsx)(O.a,{timeout:250,classNames:q.a,children:Object(v.jsx)(I,{id:t,name:r,number:a,onDeleteContact:function(){return n(t)}},t)},t)}))})]})})),Q=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(L,{}),Object(v.jsx)(z,{})]})}}]),n}(o.Component);t.default=Q},96:function(e,t,n){e.exports={item:"contactStyles_item__3cb_v",title:"contactStyles_title__ikt8f",contactList:"contactStyles_contactList__2Ir8d",buttonContact:"contactStyles_buttonContact__17yvU",icon:"contactStyles_icon__17sg9",name:"contactStyles_name__g4Yvy",number:"contactStyles_number__26wUd"}},98:function(e,t,n){e.exports={input:"form_input__EOMYJ",label:"form_label__1goj8",buttomForm:"form_buttomForm__27b0G",container:"form_container__3X-_W",loading:"form_loading__EjcEN"}},99:function(e,t,n){e.exports={alert:"styleAlert_alert__AJx14",error:"styleAlert_error__2jKDu","fade-enter":"styleAlert_fade-enter__31eSR","fade-enter-active":"styleAlert_fade-enter-active__1ZxSB","fade-exit":"styleAlert_fade-exit__1yKJA","fade-exit-active":"styleAlert_fade-exit-active__3AnSU"}}}]);
//# sourceMappingURL=3.1de6ba31.chunk.js.map